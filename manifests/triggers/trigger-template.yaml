apiVersion: tekton.dev/v1alpha1
kind: TriggerTemplate
metadata:
  name: trigger-template
spec:
  params:
    - name: gitrevision
      description: The git revision
      default: master
    - name: gitrepositoryurl
      description: The git repository url
  resourcetemplates:
    - apiVersion: tekton.dev/v1alpha1
      kind: PipelineRun
      metadata:
        name: application-pipeline-run
      spec:
        serviceAccountName: tutorial-service
        pipelineRef:
          name: application-pipeline
        resources:
          - name: git-source
            resourceRef:
              name: git
        params:
          - name: pathToYamlFile
            value: "deploy.yaml"
          - name: pathToContext
            value: "."
          - name: imageUrl-a
            value: "server-a"
          - name: imageTag-a
            value: "latest"
          - name: pathToContext-a
            value: "./serverA"
          - name: imageUrl-b
            value: "server-b"
          - name: imageTag-b
            value: "latest"
          - name: pathToContext-b
            value: "./serverB"
          - name: imageUrl-c
            value: "server-c"
          - name: imageTag-c
            value: "latest"
          - name: pathToContext-c
            value: "./serverC"